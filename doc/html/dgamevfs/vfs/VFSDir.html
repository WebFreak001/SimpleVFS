<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<link rel="stylesheet" type="text/css" href="../../style.css"/>
<script src="../../highlight.pack.js"></script>
<title>VFSDir</title>
<base href="../../"/>
<script src="anchor.js"></script>
<script src="search.js"></script>
<script src="show_hide.js"></script>
</head>
<body>
<div class="main">
<div class="breadcrumbs">
<table id="results"></table>
<a href="index.html" class="home">âŒ‚</a><input type="search" id="search" placeholder="Search" onkeyup="searchSubmit(this.value, event)"/>
<small>dgamevfs.<a href=dgamevfs/vfs.html>vfs</a>.</small><span class="highlight">VFSDir</span>
</div>
<div class="sidebar">
<a href="dgamevfs/vfs.html#hide-toc" class="hide" id="hide-toc">&#171;</a>
<a href="dgamevfs/vfs.html#show-toc" class="show" id="show-toc">&#187;</a>
<div id="toc-id" class="toc">
<ul><li><span class="package" onclick="show_hide('dgamevfs');"><a href="dgamevfs.html">dgamevfs</a></span>
<ul id="dgamevfs" style='display:block'>
<li>dgamevfs.<a href="dgamevfs/exceptions.html">exceptions</a></li>
<li>dgamevfs.<a href="dgamevfs/fs.html">fs</a></li>
<li>dgamevfs.<a href="dgamevfs/stack.html">stack</a></li>
<li><span class=" selected">dgamevfs.<a href="dgamevfs/vfs.html">vfs</a></span>
</li>
</ul>
</li>

</ul>
</div></div>
<div class="content">
<div class="aggregate-symbol"><div class="description"><pre><code>public abstract class VFSDir
</code></pre>
<div class="section"><p>A directory in the VFS.
</p>


</div>
<div class="section"><p>Provides basic directory information and access to files and
subdirectories within the directory.
Directory names in the VFS can contain any characters except <b>/</b>,
which is used as directory separator, and the <b>::</b> sequence, which is
used for explicit package lookup (see  <b>StackDir</b>).
</p>


</div>
<div class="section"><h2>Examples</h2>
<p><pre><code class="hljs_d">//Construct the directory (ordinary physical file system directory in this case):
VFSDir dir = new FSDir(<font color=red>"main"</font>, <font color=red>"./user_data/main"</font>, Yes.writable);
</p>
<p>//Print information about the directory:
writeln(<font color=red>"name: "</font>, dir.name,
        <font color=red>", full path: "</font>, dir.path,
        <font color=red>", writable: "</font>, dir.writable,
        <font color=red>", exists: "</font>, dir.exists);
</p>
<p>//Access a file. If it does not exist, it will be created when writing:
auto file = dir.file(<font color=red>"logs/memory.log"</font>);
</p>
<p>//Access a subdirectory:
auto shaders = dir.dir(<font color=red>"shaders"</font>);
</p>
<p>//Create a subdirectory. If the directory exists, nothing happens (no error):
auto shaders = dir.dir(<font color=red>"does_not_exist"</font>).create();
</p>
<p>//dirs() and files() methods can be used to get ranges of files and subdirectories:
</p>
<p>//Print paths of all immediate subdirectories and their files:
foreach(subdir; dir.dirs())
{
    writeln(dir.path, <font color=red>":"</font>);
    foreach(file; subdir.files())
    {
        writeln(<font color=red>"    "</font>, file.path);
    }
}
</p>
<p>//Print paths of all subdirectories and their subdirectories, etc. recursively:
foreach(subdir; dir.dirs(Yes.deep))
{
    writeln(dir.path);
}
</p>
<p>//Glob patterns can be used to filter the results:
</p>
<p>//Print paths of all immediate subdirectories with paths containg "doc":
foreach(subdir; dir.dirs(No.deep, <font color=red>"<em>doc</em>"</font>))
{
    writeln(dir.path);
}
</p>
<p>//Print paths of all files in the directory and in subdirectories with paths ending with ".txt":
foreach(file; dir.files(Yes.deep, <font color=red>"*.txt"</font>))
{
    writeln(file.path);
}</code></pre>
</p>


</div>
</div><a class="anchor" id="name"></a><div class="symbol"><div class="description"><pre><code>private final @property string <a href="dgamevfs/vfs/VFSDir.html#name">name</a>() @safe const pure nothrow @nogc
</code></pre>
<div class="section"><p>Get the _name of this directory.
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="path"></a><div class="symbol"><div class="description"><pre><code>private final @property string <a href="dgamevfs/vfs/VFSDir.html#path">path</a>() @safe const pure nothrow
</code></pre>
<div class="section"><p>Get full _path of this directory in the VFS.
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="writable"></a><div class="symbol"><div class="description"><pre><code>private @property <a href="http://dlang.org/type.html#basic-data-types">bool</a> <a href="dgamevfs/vfs/VFSDir.html#writable">writable</a>() @safe pure nothrow const @nogc
</code></pre>
<div class="section"><p>Is it possible to write to the directory?
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="exists"></a><div class="symbol"><div class="description"><pre><code>private @property <a href="http://dlang.org/type.html#basic-data-types">bool</a> <a href="dgamevfs/vfs/VFSDir.html#exists">exists</a>() @safe const nothrow
</code></pre>
<div class="section"><p>Does the directory exist?
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="file"></a><div class="symbol"><div class="description"><pre><code>private <a href="dgamevfs/vfs/VFSFile.html">VFSFile</a> <a href="dgamevfs/vfs/VFSDir.html#file">file</a>(string path)
</code></pre>
<div class="section"><p>Get _file with specified _path in the directory.
</p>


</div>
<div class="section"><p>The _file will be returned even if it does not exist -
it will be created when writing into it.
</p>


</div>
<div class="section"><h2>Parameters</h2>
<table class="params">
<tr class="param"><td class="paramName">path</td><td class="paramDoc"><p>Path of the _file to get.
</p>
</td></tr>
</table>
</div>
<div class="section"><h2>Throws</h2>
<p><b>VFSNotFoundException</b> if the directory does not exist
         or the _file is in a nonexistent subdirectory.
</p>
<pre class="prettyprint"><code> &lt;b&gt;<a href="dgamevfs/exceptions/VFSInvalidPathException.html">VFSInvalidPathException</a>&lt;/b&gt; if the _path is invalid.
</code></pre>

</div>
<div class="section"><h2>Returns</h2>
<p>File with specified _path.
</p>


</div>
</div></div><a class="anchor" id="dir"></a><div class="symbol"><div class="description"><pre><code>private <a href="dgamevfs/vfs/VFSDir.html">VFSDir</a> <a href="dgamevfs/vfs/VFSDir.html#dir">dir</a>(string path) @safe
</code></pre>
<div class="section"><p>Get a subdirectory with specified _path in the directory.
</p>


</div>
<div class="section"><p>The subdirectory will be returned even if it does not exist -
it can be created with the <b>create()</b> method.
</p>


</div>
<div class="section"><h2>Parameters</h2>
<table class="params">
<tr class="param"><td class="paramName">path</td><td class="paramDoc"><p>Path of the subdirectory to get.
</p>
</td></tr>
</table>
</div>
<div class="section"><h2>Throws</h2>
<p><b>VFSNotFoundException</b> if this VFSDir does not exist
         or the subdirectory is in a nonexistent subdirectory.
</p>
<pre class="prettyprint"><code> &lt;b&gt;<a href="dgamevfs/exceptions/VFSInvalidPathException.html">VFSInvalidPathException</a>&lt;/b&gt; if the _path is invalid.
</code></pre>

</div>
<div class="section"><h2>Returns</h2>
<p>Subdirectory with specified _path.
</p>


</div>
</div></div><a class="anchor" id="files"></a><div class="symbol"><div class="description"><pre><code>private <a href="dgamevfs/vfs.html#VFSFiles">VFSFiles</a> <a href="dgamevfs/vfs/VFSDir.html#files">files</a>(
    Flag!"deep" deep = No.deep, 
    string glob = null) @safe
</code></pre>
<div class="section"><p>Get a range of _files in the directory.
</p>


</div>
<div class="section">

</div>
<div class="section"><h2>Parameters</h2>
<table class="params">
<tr class="param"><td class="paramName">deep</td><td class="paramDoc"><p>If true, recursively get _files in subdirectories.
                Otherwise only get _files directly in this directory.
</p>
</td></tr>
<tr class="param"><td class="paramName">glob</td><td class="paramDoc"><p>Glob pattern used to filter the results.
                If null (default), all _files will be returned.
                Otherwise only _files whose VFS paths within this
                directory match glob (case sensitive) will be
                returned. Some characters of _glob patterns
                have special meanings: For instance, <i>*.txt</i>
                matches any path ending with the <b>.txt</b> extension.
</p>
</td></tr>
</table>
</div>
<div class="section"><h2>Returns</h2>
<p>Range of the _files.
</p>


</div>
<div class="section"><h2>Throws</h2>
<p><b>VFSNotFoundException</b> if the directory does not exist.
</p>


</div>
<div class="section seealso">
<h2>See Also:</h2>
<div class="seealso-content">
<p><a href="http://en.wikipedia.org/wiki/Glob_%28programming%29">Wikipedia: _glob (programming)</a>
</p>

</div>
</div>
</div></div><a class="anchor" id="dirs"></a><div class="symbol"><div class="description"><pre><code>private <a href="dgamevfs/vfs.html#VFSDirs">VFSDirs</a> <a href="dgamevfs/vfs/VFSDir.html#dirs">dirs</a>(
    Flag!"deep" deep = No.deep, 
    string glob = null) @safe
</code></pre>
<div class="section"><p>Get a range of subdirectories.
</p>


</div>
<div class="section">

</div>
<div class="section"><h2>Parameters</h2>
<table class="params">
<tr class="param"><td class="paramName">deep</td><td class="paramDoc"><p>If true, recursively get all subdirectories.
                Otherwise just get subdirectories of this directory.
</p>
</td></tr>
<tr class="param"><td class="paramName">glob</td><td class="paramDoc"><p>Glob pattern used to filter the results.
                If null (default), all subdirectories will be
                returned. Otherwise only subdirectories whose VFS
                paths within this directory match glob
                (case sensitive) will be returned. Some characters of
                _glob patterns have special meanings: For instance,
                <i>*.txt</i> matches any path ending with the <b>.txt</b>
                extension.
</p>
</td></tr>
</table>
</div>
<div class="section"><h2>Returns</h2>
<p>Range of the directories.
</p>


</div>
<div class="section"><h2>Throws</h2>
<p><b>VFSNotFoundException</b> if the directory does not exist.
</p>


</div>
</div></div><a class="anchor" id="create"></a><div class="symbol"><div class="description"><pre><code>private final <a href="http://dlang.org/type.html#basic-data-types">void</a> <a href="dgamevfs/vfs/VFSDir.html#create">create</a>() @safe
</code></pre>
<div class="section"><p>Create the directory if it does not exist (otherwise do nothing).
</p>


</div>
<div class="section">

</div>
<div class="section"><h2>Throws</h2>
<p><b>VFSIOException</b> if the directory could not be created.
</p>


</div>
</div></div><a class="anchor" id="remove"></a><div class="symbol"><div class="description"><pre><code>private <a href="http://dlang.org/type.html#basic-data-types">void</a> <a href="dgamevfs/vfs/VFSDir.html#remove">remove</a>() @system
</code></pre>
<div class="section"><p>Remove the directory if it exists (otherwise do nothing).
</p>


</div>
<div class="section"><p>Removes recursively, together with any subdirectories and files.
</p>


</div>
<div class="section"><h2>Warning</h2>
<p>This will make any references to subdirectories or
         files in this directory invalid.
</p>


</div>
<div class="section"><h2>Throws</h2>
<p><b>VFSIOException</b> if the directory could not be removed.
</p>


</div>
</div></div><a class="anchor" id="this"></a><div class="symbol"><div class="description"><pre><code>private this(
    <a href="dgamevfs/vfs/VFSDir.html">VFSDir</a> parent, 
    string pathInParent) @safe pure nothrow @nogc
</code></pre>
<div class="section"><p>Constructor to initialize state common for <b>VFSDir</b> implementations.
</p>


</div>
<div class="section">

</div>
<div class="section"><h2>Parameters</h2>
<table class="params">
<tr class="param"><td class="paramName">parent</td><td class="paramDoc"><p>Parent directory. If null, this directory has no _parent.
</p>
</td></tr>
<tr class="param"><td class="paramName">pathInParent</td><td class="paramDoc"><p>Path of the directory within the _parent.
</p>
</td></tr>
</table>
</div>
</div></div><a class="anchor" id="dirsRange"></a><div class="symbol"><div class="description"><pre><code>private static <a href="dgamevfs/vfs.html#VFSDirs">VFSDirs</a> <a href="dgamevfs/vfs/VFSDir.html#dirsRange">dirsRange</a>(<a href="dgamevfs/vfs.html#VFSDirs">VFSDirs</a>.Items dirs) @safe
</code></pre>
<div class="section"><p>Construct a range from a set of directories.
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="filesRange"></a><div class="symbol"><div class="description"><pre><code>private static <a href="dgamevfs/vfs.html#VFSFiles">VFSFiles</a> <a href="dgamevfs/vfs/VFSDir.html#filesRange">filesRange</a>(<a href="dgamevfs/vfs.html#VFSFiles">VFSFiles</a>.Items files) @safe
</code></pre>
<div class="section"><p>Construct a range from a set of _files.
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="composePath"></a><div class="symbol"><div class="description"><pre><code>private string <a href="dgamevfs/vfs/VFSDir.html#composePath">composePath</a>(const <a href="dgamevfs/vfs/VFSDir.html">VFSDir</a> child) @safe const pure nothrow
</code></pre>
<div class="section"><p>Compose path for a _child directory. Used e.g. to allow <b>StackDir</b> to set children's paths.
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="create_"></a><div class="symbol"><div class="description"><pre><code>private <a href="http://dlang.org/type.html#basic-data-types">void</a> <a href="dgamevfs/vfs/VFSDir.html#create_">create_</a>() @trusted
</code></pre>
<div class="section"><p>Implementation of <b>create()</b>. Caller contract guarantees that the directory is writable.
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="copyWithoutParent"></a><div class="symbol"><div class="description"><pre><code>private <a href="dgamevfs/vfs/VFSDir.html">VFSDir</a> <a href="dgamevfs/vfs/VFSDir.html#copyWithoutParent">copyWithoutParent</a>() @safe
</code></pre>
<div class="section"><p>Return a copy of this VFSDir without a parent. Used for mounting.
</p>


</div>
<div class="section">

</div>
</div></div><a class="anchor" id="getCopyWithoutParent"></a><div class="symbol"><div class="description"><pre><code>private final <a href="dgamevfs/vfs/VFSDir.html">VFSDir</a> <a href="dgamevfs/vfs/VFSDir.html#getCopyWithoutParent">getCopyWithoutParent</a>(<a href="dgamevfs/vfs/VFSDir.html">VFSDir</a> dir) @safe
</code></pre>
<div class="section"><p>Access for derived classes to call copyWithoutParent() of other instances.
</p>


</div>
<div class="section">

</div>
</div></div><div class="section members"><h2>Functions</h2><table><tr><td><a href="dgamevfs/vfs/VFSDir.html#name">name</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span>, <span class="attr-const">const</span>, <span class="attr-pure">pure</span>, <span class="attr-nothrow">nothrow</span>, <span class="attr-nogc">@nogc</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#path">path</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span>, <span class="attr-const">const</span>, <span class="attr-pure">pure</span>, <span class="attr-nothrow">nothrow</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#writable">writable</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span>, <span class="attr-pure">pure</span>, <span class="attr-nothrow">nothrow</span>, <span class="attr-const">const</span>, <span class="attr-nogc">@nogc</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#exists">exists</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span>, <span class="attr-const">const</span>, <span class="attr-nothrow">nothrow</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#file">file</a><span class="extrainfo"></span></td><td></td><td>Returns: <p>File with specified _path.
</p>
</td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#dir">dir</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td>Returns: <p>Subdirectory with specified _path.
</p>
</td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#files">files</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td>Returns: <p><a href="http://en.wikipedia.org/wiki/Glob_%28programming%29">Wikipedia: _glob (programming)</a>
</p>
</td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#dirs">dirs</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td>Returns: <p><b>VFSNotFoundException</b> if the directory does not exist.
</p>
</td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#create">create</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#remove">remove</a><span class="extrainfo"><span class="method-attribs"><span class="attr-system">@system</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#this">this</a></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#dirsRange">dirsRange</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#filesRange">filesRange</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#composePath">composePath</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span>, <span class="attr-const">const</span>, <span class="attr-pure">pure</span>, <span class="attr-nothrow">nothrow</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#create_">create_</a><span class="extrainfo"><span class="method-attribs"><span class="attr-trusted">@trusted</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#copyWithoutParent">copyWithoutParent</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td></td></tr><tr><td><a href="dgamevfs/vfs/VFSDir.html#getCopyWithoutParent">getCopyWithoutParent</a><span class="extrainfo"><span class="method-attribs"><span class="attr-safe">@safe</span></span></span></td><td></td><td></td></tr></table>
</div>
</div><script>hljs.initHighlightingOnLoad();</script>

</div>
<footer>
Generated with <a href="https://gitlab.com/basile.b/harbored-mod">harbored-mod</a>
</footer>
</div>
<script>anchors.add();</script>
</body>
</html>
